<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="993px" preserveAspectRatio="none" style="width:1859px;height:993px;background:#FFFFFF;" version="1.1" viewBox="0 0 1859 993" width="1859px" zoomAndPan="magnify"><defs/><g><rect fill="#FFFFFF" height="91.0547" style="stroke:#181818;stroke-width:1.0;" width="10" x="555.5" y="118.5703"/><rect fill="#FFFFFF" height="260.6484" style="stroke:#181818;stroke-width:1.0;" width="10" x="555.5" y="239.9766"/><rect fill="#FFFFFF" height="286.1641" style="stroke:#181818;stroke-width:1.0;" width="10" x="720.5" y="591.6797"/><rect fill="#FFFFFF" height="234.4609" style="stroke:#181818;stroke-width:1.0;" width="10" x="1141.5" y="652.3828"/><rect fill="#FFFFFF" height="204.1094" style="stroke:#181818;stroke-width:1.0;" width="10" x="1386.5" y="682.7344"/><rect fill="none" height="155.5938" style="stroke:#000000;stroke-width:1.5;" width="1090" x="10" y="285.3281"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="64" x2="64" y1="86.2188" y2="895.8438"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="400" x2="400" y1="86.2188" y2="895.8438"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="560" x2="560" y1="86.2188" y2="895.8438"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="725" x2="725" y1="86.2188" y2="895.8438"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1018" x2="1018" y1="86.2188" y2="895.8438"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1146" x2="1146" y1="86.2188" y2="895.8438"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1391.5" x2="1391.5" y1="86.2188" y2="895.8438"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1605" x2="1605" y1="86.2188" y2="895.8438"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1774" x2="1774" y1="86.2188" y2="895.8438"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="83" x="20" y="83.1426">Administrator</text><ellipse cx="64.5" cy="17.1094" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M64.5,25.1094 L64.5,52.1094 M51.5,33.1094 L77.5,33.1094 M64.5,52.1094 L51.5,67.1094 M64.5,52.1094 L77.5,67.1094 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="83" x="20" y="909.377">Administrator</text><ellipse cx="64.5" cy="920.9531" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M64.5,928.9531 L64.5,955.9531 M51.5,936.9531 L77.5,936.9531 M64.5,955.9531 L51.5,970.9531 M64.5,955.9531 L77.5,970.9531 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><rect fill="#E2E2F0" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="129" x="336" y="36"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="95" x="353" y="57.5332">«presentation»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="115" x="343" y="75.1426">ListUsersByRoleUI</text><rect fill="#E2E2F0" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="129" x="336" y="894.8438"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="95" x="353" y="916.377">«presentation»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="115" x="343" y="933.9863">ListUsersByRoleUI</text><rect fill="#E2E2F0" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="131" x="495" y="36"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="84" x="518.5" y="57.5332">«application»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="117" x="502" y="75.1426">ShowRolesService</text><rect fill="#E2E2F0" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="131" x="495" y="894.8438"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="84" x="518.5" y="916.377">«application»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="117" x="502" y="933.9863">ShowRolesService</text><rect fill="#E2E2F0" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="179" x="636" y="36"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="84" x="683.5" y="57.5332">«application»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="165" x="643" y="75.1426">ListUsersByRoleController</text><rect fill="#E2E2F0" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="179" x="636" y="894.8438"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="84" x="683.5" y="916.377">«application»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="165" x="643" y="933.9863">ListUsersByRoleController</text><rect fill="#E2E2F0" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="143" x="947" y="36"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="60" x="988.5" y="57.5332">«service»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="129" x="954" y="75.1426">AuthorizationService</text><rect fill="#E2E2F0" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="143" x="947" y="894.8438"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="60" x="988.5" y="916.377">«service»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="129" x="954" y="933.9863">AuthorizationService</text><rect fill="#E2E2F0" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="93" x="1100" y="36"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="60" x="1116.5" y="57.5332">«service»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="79" x="1107" y="75.1426">IUserService</text><rect fill="#E2E2F0" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="93" x="1100" y="894.8438"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="60" x="1116.5" y="916.377">«service»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="79" x="1107" y="933.9863">IUserService</text><rect fill="#E2E2F0" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="90" x="1346.5" y="36"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="60" x="1361.5" y="57.5332">«service»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="76" x="1353.5" y="75.1426">UserService</text><rect fill="#E2E2F0" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="90" x="1346.5" y="894.8438"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="60" x="1361.5" y="916.377">«service»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="76" x="1353.5" y="933.9863">UserService</text><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="89" x="1558" y="65.5332">«persistence»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="143" x="1531" y="83.1426">SystemUserRepository</text><path d="M1587.5,15 C1587.5,5 1605.5,5 1605.5,5 C1605.5,5 1623.5,5 1623.5,15 L1623.5,41 C1623.5,51 1605.5,51 1605.5,51 C1605.5,51 1587.5,51 1587.5,41 L1587.5,15 " fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M1587.5,15 C1587.5,25 1605.5,25 1605.5,25 C1605.5,25 1623.5,25 1623.5,15 " fill="none" style="stroke:#181818;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="89" x="1558" y="909.377">«persistence»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="143" x="1531" y="926.9863">SystemUserRepository</text><path d="M1587.5,940.0625 C1587.5,930.0625 1605.5,930.0625 1605.5,930.0625 C1605.5,930.0625 1623.5,930.0625 1623.5,940.0625 L1623.5,966.0625 C1623.5,976.0625 1605.5,976.0625 1605.5,976.0625 C1605.5,976.0625 1587.5,976.0625 1587.5,966.0625 L1587.5,940.0625 " fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M1587.5,940.0625 C1587.5,950.0625 1605.5,950.0625 1605.5,950.0625 C1605.5,950.0625 1623.5,950.0625 1623.5,940.0625 " fill="none" style="stroke:#181818;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="89" x="1726.5" y="65.5332">«persistence»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="162" x="1690" y="83.1426">ELearningUserRepository</text><path d="M1756,15 C1756,5 1774,5 1774,5 C1774,5 1792,5 1792,15 L1792,41 C1792,51 1774,51 1774,51 C1774,51 1756,51 1756,41 L1756,15 " fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M1756,15 C1756,25 1774,25 1774,25 C1774,25 1792,25 1792,15 " fill="none" style="stroke:#181818;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="89" x="1726.5" y="909.377">«persistence»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="162" x="1690" y="926.9863">ELearningUserRepository</text><path d="M1756,940.0625 C1756,930.0625 1774,930.0625 1774,930.0625 C1774,930.0625 1792,930.0625 1792,940.0625 L1792,966.0625 C1792,976.0625 1774,976.0625 1774,976.0625 C1774,976.0625 1756,976.0625 1756,966.0625 L1756,940.0625 " fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M1756,940.0625 C1756,950.0625 1774,950.0625 1774,950.0625 C1774,950.0625 1792,950.0625 1792,940.0625 " fill="none" style="stroke:#181818;stroke-width:1.5;"/><rect fill="#FFFFFF" height="91.0547" style="stroke:#181818;stroke-width:1.0;" width="10" x="555.5" y="118.5703"/><rect fill="#FFFFFF" height="260.6484" style="stroke:#181818;stroke-width:1.0;" width="10" x="555.5" y="239.9766"/><rect fill="#FFFFFF" height="286.1641" style="stroke:#181818;stroke-width:1.0;" width="10" x="720.5" y="591.6797"/><rect fill="#FFFFFF" height="234.4609" style="stroke:#181818;stroke-width:1.0;" width="10" x="1141.5" y="652.3828"/><rect fill="#FFFFFF" height="204.1094" style="stroke:#181818;stroke-width:1.0;" width="10" x="1386.5" y="682.7344"/><polygon fill="#181818" points="388.5,114.5703,398.5,118.5703,388.5,122.5703,392.5,118.5703" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="64.5" x2="394.5" y1="118.5703" y2="118.5703"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="71.5" y="113.7139">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="177" x="82.5" y="113.7139">requests a list of Users by role</text><polygon fill="#181818" points="543.5,144.9219,553.5,148.9219,543.5,152.9219,547.5,148.9219" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="400.5" x2="549.5" y1="148.9219" y2="148.9219"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="407.5" y="144.0654">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="43" x="418.5" y="144.0654">creates</text><polygon fill="#181818" points="1762,175.2734,1772,179.2734,1762,183.2734,1766,179.2734" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="565.5" x2="1768" y1="179.2734" y2="179.2734"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="572.5" y="174.417">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="75" x="583.5" y="174.417">repositories()</text><polygon fill="#181818" points="1006.5,205.625,1016.5,209.625,1006.5,213.625,1010.5,209.625" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="560.5" x2="1012.5" y1="209.625" y2="209.625"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="567.5" y="204.7686">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="124" x="578.5" y="204.7686">authorizationService()</text><polygon fill="#181818" points="543.5,235.9766,553.5,239.9766,543.5,243.9766,547.5,239.9766" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="400.5" x2="549.5" y1="239.9766" y2="239.9766"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="407.5" y="235.1201">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="73" x="418.5" y="235.1201">show_roles()</text><polygon fill="#181818" points="1006.5,266.3281,1016.5,270.3281,1006.5,274.3281,1010.5,270.3281" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="565.5" x2="1012.5" y1="270.3281" y2="270.3281"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="572.5" y="265.4717">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="418" x="583.5" y="265.4717">ensureAuthenticatedUserHasAnyOf(ADMINISTRATOR, POWER_USER)</text><path d="M10,285.3281 L71,285.3281 L71,293.6797 L61,303.6797 L10,303.6797 L10,285.3281 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="155.5938" style="stroke:#000000;stroke-width:1.5;" width="1090" x="10" y="285.3281"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="16" x="25" y="299.8232">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="180" x="86" y="298.7471">[user has insufficient privileges]</text><polygon fill="#181818" points="576.5,322.0313,566.5,326.0313,576.5,330.0313,572.5,326.0313" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="570.5" x2="1017.5" y1="326.0313" y2="326.0313"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="582.5" y="321.1748">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="120" x="593.5" y="321.1748">Insufficient Privileges</text><polygon fill="#181818" points="411.5,352.3828,401.5,356.3828,411.5,360.3828,407.5,356.3828" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="405.5" x2="554.5" y1="356.3828" y2="356.3828"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="417.5" y="351.5264">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="120" x="428.5" y="351.5264">Insufficient Privileges</text><polygon fill="#181818" points="75.5,382.7344,65.5,386.7344,75.5,390.7344,71.5,386.7344" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="69.5" x2="399.5" y1="386.7344" y2="386.7344"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="81.5" y="381.8779">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="120" x="92.5" y="381.8779">Insufficient Privileges</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="10" x2="1100" y1="395.7344" y2="395.7344"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="170" x="15" y="407.1533">[user has sufficient privileges]</text><polygon fill="#181818" points="576.5,428.9219,566.5,432.9219,576.5,436.9219,572.5,432.9219" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="570.5" x2="1017.5" y1="432.9219" y2="432.9219"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="582.5" y="428.0654">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="112" x="600.5" y="428.0654">Sufficient Privileges</text><polygon fill="#181818" points="1762,466.2734,1772,470.2734,1762,474.2734,1766,470.2734" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="565.5" x2="1768" y1="470.2734" y2="470.2734"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="572.5" y="465.417">11</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="73" x="590.5" y="465.417">show_roles()</text><polygon fill="#181818" points="411.5,496.625,401.5,500.625,411.5,504.625,407.5,500.625" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="405.5" x2="559.5" y1="500.625" y2="500.625"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="417.5" y="495.7686">12</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="63" x="435.5" y="495.7686">List&lt;Role&gt;</text><polygon fill="#181818" points="75.5,526.9766,65.5,530.9766,75.5,534.9766,71.5,530.9766" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="69.5" x2="399.5" y1="530.9766" y2="530.9766"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="81.5" y="526.1201">13</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="260" x="99.5" y="526.1201">show list of Roles and request to choose one</text><polygon fill="#181818" points="388.5,557.3281,398.5,561.3281,388.5,565.3281,392.5,561.3281" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="64.5" x2="394.5" y1="561.3281" y2="561.3281"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="71.5" y="556.4717">14</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="78" x="89.5" y="556.4717">selects a role</text><polygon fill="#181818" points="708.5,587.6797,718.5,591.6797,708.5,595.6797,712.5,591.6797" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="400.5" x2="714.5" y1="591.6797" y2="591.6797"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="407.5" y="586.8232">15</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="43" x="425.5" y="586.8232">creates</text><polygon fill="#181818" points="1006.5,618.0313,1016.5,622.0313,1006.5,626.0313,1010.5,622.0313" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="730.5" x2="1012.5" y1="622.0313" y2="622.0313"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="737.5" y="617.1748">16</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="124" x="755.5" y="617.1748">authorizationService()</text><polygon fill="#181818" points="1129.5,648.3828,1139.5,652.3828,1129.5,656.3828,1133.5,652.3828" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="730.5" x2="1135.5" y1="652.3828" y2="652.3828"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="737.5" y="647.5264">17</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="122" x="755.5" y="647.5264">listUsersByRole(role)</text><polygon fill="#181818" points="1374.5,678.7344,1384.5,682.7344,1374.5,686.7344,1378.5,682.7344" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1151.5" x2="1380.5" y1="682.7344" y2="682.7344"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1158.5" y="677.8779">18</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="122" x="1176.5" y="677.8779">listUsersByRole(role)</text><polygon fill="#181818" points="1593.5,709.0859,1603.5,713.0859,1593.5,717.0859,1597.5,713.0859" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1396.5" x2="1599.5" y1="713.0859" y2="713.0859"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1403.5" y="708.2295">19</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="122" x="1421.5" y="708.2295">listUsersByRole(role)</text><line style="stroke:#181818;stroke-width:1.0;" x1="1396.5" x2="1438.5" y1="743.4375" y2="743.4375"/><line style="stroke:#181818;stroke-width:1.0;" x1="1438.5" x2="1438.5" y1="743.4375" y2="756.4375"/><line style="stroke:#181818;stroke-width:1.0;" x1="1397.5" x2="1438.5" y1="756.4375" y2="756.4375"/><polygon fill="#181818" points="1407.5,752.4375,1397.5,756.4375,1407.5,760.4375,1403.5,756.4375" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1403.5" y="738.5811">20</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="172" x="1421.5" y="738.5811">List&lt;GeneralDTO&gt; finalResult</text><polygon fill="#181818" points="1162.5,782.7891,1152.5,786.7891,1162.5,790.7891,1158.5,786.7891" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1156.5" x2="1385.5" y1="786.7891" y2="786.7891"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1168.5" y="781.9326">21</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="193" x="1186.5" y="781.9326">Iterable&lt;GeneralDTO&gt; finalResult</text><polygon fill="#181818" points="741.5,813.1406,731.5,817.1406,741.5,821.1406,737.5,817.1406" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="735.5" x2="1140.5" y1="817.1406" y2="817.1406"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="747.5" y="812.2842">22</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="193" x="765.5" y="812.2842">Iterable&lt;GeneralDTO&gt; finalResult</text><polygon fill="#181818" points="411.5,843.4922,401.5,847.4922,411.5,851.4922,407.5,847.4922" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="405.5" x2="719.5" y1="847.4922" y2="847.4922"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="417.5" y="842.6357">23</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="193" x="435.5" y="842.6357">Iterable&lt;GeneralDTO&gt; finalResult</text><polygon fill="#181818" points="75.5,873.8438,65.5,877.8438,75.5,881.8438,71.5,877.8438" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="69.5" x2="399.5" y1="877.8438" y2="877.8438"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="81.5" y="872.9873">24</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="294" x="99.5" y="872.9873">shows a list of users according to the role selected</text><!--MD5=[743095c04e393070b0a41a6748bac107]
@startuml
'https://plantuml.com/sequence-diagram
autonumber

actor Administrator as admin
participant ListUsersByRoleUI as ui <<presentation>>
participant ShowRolesService as sr_ctrl <<application>>
participant ListUsersByRoleController as lu_ctrl <<application>>
participant AuthorizationService as authz <<service>>
participant IUserService as us <<service>>
participant UserService as us1 <<service>>

database SystemUserRepository as repo1 <<persistence>>
database ELearningUserRepository as repo <<persistence>>
admin -> ui  : requests a list of Users by role
activate sr_ctrl
ui-> sr_ctrl: creates
sr_ctrl -> repo : repositories()
sr_ctrl -> authz: authorizationService()
deactivate sr_ctrl

ui -> sr_ctrl: show_roles()

activate sr_ctrl
sr_ctrl -> authz : ensureAuthenticatedUserHasAnyOf(ADMINISTRATOR, POWER_USER)

alt user has insufficient privileges
    authz -> sr_ctrl : Insufficient Privileges
    sr_ctrl - -> ui : Insufficient Privileges
    ui - -> admin : Insufficient Privileges
else user has sufficient privileges
    authz -> sr_ctrl : Sufficient Privileges
end
    sr_ctrl -> repo : show_roles()
    sr_ctrl -> ui : List<Role>

deactivate sr_ctrl
ui- -> admin : show list of Roles and request to choose one
admin->ui : selects a role

ui->lu_ctrl: creates
activate lu_ctrl
lu_ctrl -> authz: authorizationService()
lu_ctrl -> us: listUsersByRole(role)
activate us
us -> us1: listUsersByRole(role)
activate us1
us1 -> repo1 : listUsersByRole(role)
us1 -> us1 : List<GeneralDTO> finalResult
us1 -> us : Iterable<GeneralDTO> finalResult
us -> lu_ctrl : Iterable<GeneralDTO> finalResult
lu_ctrl -> ui : Iterable<GeneralDTO> finalResult
ui - -> admin: shows a list of users according to the role selected
deactivate lu_ctrl

@enduml

@startuml
autonumber

actor Administrator as admin
participant ListUsersByRoleUI as ui <<presentation>>
participant ShowRolesService as sr_ctrl <<application>>
participant ListUsersByRoleController as lu_ctrl <<application>>
participant AuthorizationService as authz <<service>>
participant IUserService as us <<service>>
participant UserService as us1 <<service>>

database SystemUserRepository as repo1 <<persistence>>
database ELearningUserRepository as repo <<persistence>>
admin -> ui  : requests a list of Users by role
activate sr_ctrl
ui-> sr_ctrl: creates
sr_ctrl -> repo : repositories()
sr_ctrl -> authz: authorizationService()
deactivate sr_ctrl

ui -> sr_ctrl: show_roles()

activate sr_ctrl
sr_ctrl -> authz : ensureAuthenticatedUserHasAnyOf(ADMINISTRATOR, POWER_USER)

alt user has insufficient privileges
    authz -> sr_ctrl : Insufficient Privileges
    sr_ctrl - -> ui : Insufficient Privileges
    ui - -> admin : Insufficient Privileges
else user has sufficient privileges
    authz -> sr_ctrl : Sufficient Privileges
end
    sr_ctrl -> repo : show_roles()
    sr_ctrl -> ui : List<Role>

deactivate sr_ctrl
ui- -> admin : show list of Roles and request to choose one
admin->ui : selects a role

ui->lu_ctrl: creates
activate lu_ctrl
lu_ctrl -> authz: authorizationService()
lu_ctrl -> us: listUsersByRole(role)
activate us
us -> us1: listUsersByRole(role)
activate us1
us1 -> repo1 : listUsersByRole(role)
us1 -> us1 : List<GeneralDTO> finalResult
us1 -> us : Iterable<GeneralDTO> finalResult
us -> lu_ctrl : Iterable<GeneralDTO> finalResult
lu_ctrl -> ui : Iterable<GeneralDTO> finalResult
ui - -> admin: shows a list of users according to the role selected
deactivate lu_ctrl

@enduml

PlantUML version 1.2022.12(Sun Oct 23 19:12:26 BST 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: Cp1252
Language: en
Country: US
--></g></svg>